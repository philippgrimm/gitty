@import 'tailwindcss';

@variant dark (&:where(.dark, .dark *));

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
    /* Typography */
    --font-sans: 'Instrument Sans', 'Inter', system-ui, ui-sans-serif, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
    --font-mono: 'JetBrains Mono', 'SF Mono', 'Fira Code', ui-monospace, monospace;
    
    /* Flux Accent Colors - Zed Blue */
    --color-accent: #084CCF;
    --color-accent-content: #084CCF;
    --color-accent-foreground: #ffffff;
}

/* Design Tokens - CSS Custom Properties */
:root {
    /* Catppuccin Latte - Background Colors */
    --surface-0: #eff1f5;        /* Base - main background */
    --surface-1: #e6e9ef;        /* Mantle - elevated panels, headers */
    --surface-2: #dce0e8;        /* Crust - hover states, subtle elevation */
    --surface-3: #ccd0da;        /* Surface 0 - highest elevation, active states */
    
    /* Catppuccin Latte - Border Colors */
    --border-default: #ccd0da;   /* Surface 0 */
    --border-subtle: #dce0e8;    /* Crust */
    --border-strong: #bcc0cc;    /* Surface 1 */
    
    /* Catppuccin Latte - Text Colors */
    --text-primary: #4c4f69;     /* Text */
    --text-secondary: #6c6f85;   /* Subtext 0 */
    --text-tertiary: #8c8fa1;    /* Overlay 1 */
    
    /* Accent Colors - Zed's Brand Blue */
    --accent: #084CCF;           /* Zed blue - primary accent */
    --accent-muted: rgba(8, 76, 207, 0.15);  /* Zed blue/15 */
    --accent-text: #084CCF;      /* Zed blue */
    
    /* Catppuccin Latte - Semantic Colors */
    --color-green: #40a02b;      /* Green - added/staged */
    --color-red: #d20f39;        /* Red - deleted/errors */
    --color-yellow: #df8e1d;     /* Yellow - modified/warnings */
    --color-peach: #fe640b;      /* Peach - untracked */
    --color-blue: #084CCF;       /* Zed blue - primary */
    --color-mauve: #8839ef;      /* Mauve - special */
    --color-teal: #179299;       /* Teal */
    --color-sky: #04a5e5;        /* Sky */
    --color-lavender: #7287fd;   /* Lavender */
    
    /* Shadows - softer for light theme */
    --shadow-sm: 0 1px 2px rgba(76, 79, 105, 0.06);
    --shadow-md: 0 4px 12px rgba(76, 79, 105, 0.08);
    --shadow-glow: none;
    
    /* Transitions */
    --transition-fast: 100ms ease;
    --transition-normal: 150ms ease;
    --transition-slow: 250ms ease;
    
    /* Border Radius */
    --radius-sm: 4px;
    --radius-md: 6px;
    --radius-lg: 8px;
}

/* Catppuccin Mocha - Dark Theme */
.dark {
    /* Background Colors */
    --surface-0: #1e1e2e;        /* Base - main background */
    --surface-1: #181825;        /* Mantle - elevated panels, headers */
    --surface-2: #11111b;        /* Crust - darker elevation */
    --surface-3: #313244;        /* Surface 0 - highest elevation, active states */
    
    /* Border Colors */
    --border-default: #313244;   /* Surface 0 */
    --border-subtle: #181825;    /* Mantle */
    --border-strong: #45475a;    /* Surface 1 */
    
    /* Text Colors */
    --text-primary: #cdd6f4;     /* Text */
    --text-secondary: #a6adc8;   /* Subtext 0 */
    --text-tertiary: #7f849c;    /* Overlay 1 */
    
    /* Accent Colors - Zed's Brand Blue */
    --accent: #084CCF;           /* Zed blue - primary accent */
    --accent-muted: rgba(8, 76, 207, 0.25);  /* Zed blue/25 - higher opacity for dark bg */
    --accent-text: #89b4fa;      /* Mocha blue - for accent text */
    
    /* Semantic Colors */
    --color-green: #a6e3a1;      /* Green - added/staged */
    --color-red: #f38ba8;        /* Red - deleted/errors */
    --color-yellow: #f9e2af;     /* Yellow - modified/warnings */
    --color-peach: #fab387;      /* Peach - untracked */
    --color-blue: #89b4fa;       /* Mocha blue */
    --color-mauve: #cba6f7;      /* Mauve - special */
    --color-teal: #94e2d5;       /* Teal */
    --color-sky: #89dceb;        /* Sky */
    --color-lavender: #b4befe;   /* Lavender */
    
    /* Shadows - stronger for dark theme */
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.4);
    --shadow-glow: 0 0 20px rgba(8, 76, 207, 0.15);
}

/* Diff Viewer Styles - Refactored with Design Tokens */
.diff-container {
    @apply text-sm;
    background-color: var(--surface-0);
    color: var(--text-primary);
}

.diff-file {
    border-bottom: 1px solid var(--border-default);
}

.diff-file-header {
    @apply hidden;
}

.diff-hunk {
    border-bottom: 1px solid var(--surface-1);
}

.diff-hunk-header {
    @apply px-4 py-2 text-xs tracking-wider flex items-center gap-3;
    background-color: var(--surface-1);
    color: var(--text-secondary);
    font-family: var(--font-mono);
    border-top: 1px solid var(--border-default);
    border-bottom: 1px solid var(--border-default);
}

.diff-line-addition,
.diff-line-deletion,
.diff-line-context {
    @apply flex items-start leading-relaxed;
    font-family: var(--font-mono);
    font-size: 0.75rem;
    line-height: 1.625;
    border-bottom: 1px solid rgba(228, 228, 231, 0.5);
    transition: background-color var(--transition-fast);
}

.diff-line-addition {
    background-color: rgba(64, 160, 43, 0.1);
}

.diff-line-addition:hover {
    background-color: rgba(64, 160, 43, 0.15);
}

.diff-line-deletion {
    background-color: rgba(210, 15, 57, 0.1);
}

.diff-line-deletion:hover {
    background-color: rgba(210, 15, 57, 0.15);
}

.diff-line-context {
    background-color: #ffffff;
}

.diff-line-context:hover {
    background-color: #f5f5f5;
}

.diff-line-addition .line-number {
    color: rgba(64, 160, 43, 0.6);
}

.diff-line-deletion .line-number {
    color: rgba(210, 15, 57, 0.6);
}

.diff-line-context .line-number {
    color: var(--text-tertiary);
}

.line-number {
    @apply w-12 text-right px-2 py-1 select-none shrink-0;
    font-size: 0.75rem;
    border-right: 1px solid var(--border-subtle);
}

.line-content {
    @apply flex-1 px-4 py-1 whitespace-pre-wrap break-all;
}

.diff-line-addition .line-content {
    color: #40a02b;
}

.diff-line-deletion .line-content {
    color: #d20f39;
}

.diff-line-context .line-content {
    color: #5c5f77;
}

.line-content pre {
    @apply m-0 p-0 bg-transparent;
}

.line-content code {
    @apply bg-transparent;
    font-family: var(--font-mono);
}

/* Micro-Interactions */
@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-8px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes commitFlash {
    0% {
        box-shadow: 0 0 0 0 rgba(8, 76, 207, 0.4);
    }
    100% {
        box-shadow: 0 0 0 8px rgba(8, 76, 207, 0);
    }
}

@keyframes syncPulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.6;
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

.animate-slide-in {
    animation: slideIn 150ms ease-out;
}

.animate-commit-flash {
    animation: commitFlash 200ms ease-out;
}

.animate-sync-pulse {
    animation: syncPulse 200ms ease-in-out;
}

.animate-fade-in {
    animation: fadeIn 150ms ease-out;
}

/* Highlight.js â€” Catppuccin Latte theme for diff viewer */
.hljs-keyword,
.hljs-selector-tag,
.hljs-built_in,
.hljs-name,
.hljs-tag { color: #8839ef; }

.hljs-string,
.hljs-title,
.hljs-section,
.hljs-attribute,
.hljs-literal,
.hljs-template-tag,
.hljs-template-variable,
.hljs-type { color: #40a02b; }

.hljs-comment,
.hljs-quote,
.hljs-deletion { color: #9ca0b0; }

.hljs-meta,
.hljs-meta .hljs-keyword { color: #fe640b; }

.hljs-number,
.hljs-symbol,
.hljs-bullet,
.hljs-link { color: #df8e1d; }

.hljs-variable,
.hljs-params { color: #4c4f69; }

.hljs-function { color: #1e66f5; }

.hljs-title.function_ { color: #1e66f5; }

.hljs-regexp { color: #179299; }

.hljs-addition { color: #40a02b; }

.hljs-emphasis { font-style: italic; }

.hljs-strong { font-weight: bold; }

/* Dark Mode - Diff Viewer Styles */
.dark .diff-line-addition {
    background-color: rgba(166, 227, 161, 0.08);
}

.dark .diff-line-addition:hover {
    background-color: rgba(166, 227, 161, 0.12);
}

.dark .diff-line-deletion {
    background-color: rgba(243, 139, 168, 0.08);
}

.dark .diff-line-deletion:hover {
    background-color: rgba(243, 139, 168, 0.12);
}

.dark .diff-line-context {
    background-color: #1e1e2e;
}

.dark .diff-line-context:hover {
    background-color: #313244;
}

.dark .diff-line-addition .line-content {
    color: #a6e3a1;
}

.dark .diff-line-deletion .line-content {
    color: #f38ba8;
}

.dark .diff-line-context .line-content {
    color: #bac2de;
}

/* Dark Mode - Highlight.js Catppuccin Mocha */
.dark .hljs-keyword,
.dark .hljs-selector-tag,
.dark .hljs-built_in,
.dark .hljs-name,
.dark .hljs-tag { color: #cba6f7; }

.dark .hljs-string,
.dark .hljs-title,
.dark .hljs-section,
.dark .hljs-attribute,
.dark .hljs-literal,
.dark .hljs-template-tag,
.dark .hljs-template-variable,
.dark .hljs-type { color: #a6e3a1; }

.dark .hljs-comment,
.dark .hljs-quote,
.dark .hljs-deletion { color: #6c7086; }

.dark .hljs-meta,
.dark .hljs-meta .hljs-keyword { color: #fab387; }

.dark .hljs-number,
.dark .hljs-symbol,
.dark .hljs-bullet,
.dark .hljs-link { color: #f9e2af; }

.dark .hljs-variable,
.dark .hljs-params { color: #cdd6f4; }

.dark .hljs-function { color: #89b4fa; }

.dark .hljs-title.function_ { color: #89b4fa; }

.dark .hljs-regexp { color: #94e2d5; }

.dark .hljs-addition { color: #a6e3a1; }
