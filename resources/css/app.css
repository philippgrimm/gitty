@import 'tailwindcss';

@variant dark (&:where(.dark, .dark *));

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
    /* Typography */
    --font-sans: 'Instrument Sans', 'Inter', system-ui, ui-sans-serif, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
    --font-mono: 'JetBrains Mono', 'SF Mono', 'Fira Code', ui-monospace, monospace;
    --font-display: 'Pixelify Sans', 'JetBrains Mono', ui-monospace, monospace;
    --font-pixel: 'Press Start 2P', 'Pixelify Sans', ui-monospace, monospace;
    
    /* Flux Accent Colors - IBM Carbon Blue */
    --color-accent: #4040B0;
    --color-accent-content: #4040B0;
    --color-accent-foreground: #ffffff;
}

/* Design Tokens - CSS Custom Properties */
:root {
    /* Retro Light Mode - Background Colors */
    --surface-0: #E8E5DF;        /* Base - main background */
    --surface-1: #DED9D0;        /* Mantle - elevated panels, headers */
    --surface-2: #D4CFC6;        /* Crust - subtle elevation */
    --surface-3: #C8C3B8;        /* Highest elevation, active states */
    
    /* Retro Light Mode - Border Colors */
    --border-default: #C8C3B8;   /* Warm brown-grey */
    --border-subtle: #D8D3C8;    /* Warm brown-grey */
    --border-strong: #B8B3A8;    /* Warm brown-grey */
    
    /* Retro Light Mode - Text Colors */
    --text-primary: #2C3040;     /* Dark grey-blue */
    --text-secondary: #4A4E5E;   /* Secondary */
    --text-tertiary: #686C7C;    /* Tertiary, placeholders */
    
    /* Accent Colors - IBM Carbon Blue */
    --accent: #4040B0;
    --accent-muted: rgba(64, 64, 176, 0.15);
    --accent-text: #4040B0;
    
    /* Retro Semantic Colors — saturated for vibrancy */
    --color-green: #1E8C0A;
    --color-red: #D91440;
    --color-yellow: #C08800;
    --color-peach: #E05800;
    --color-blue: #4040B0;
    --color-mauve: #7C3AED;
    --color-teal: #0D9488;
    --color-sky: #0EA5E9;
    --color-lavender: #6366F1;
    
    /* Shadows - warm tones */
    --shadow-sm: 0 1px 2px rgba(44, 48, 64, 0.08);
    --shadow-md: 0 4px 12px rgba(44, 48, 64, 0.10);
    --shadow-glow: none;
    
    /* Transitions */
    --transition-fast: 100ms ease;
    --transition-normal: 150ms ease;
    --transition-slow: 250ms ease;
    
    /* Border Radius - subtle retro */
    --radius-sm: 4px;
    --radius-md: 6px;
    --radius-lg: 8px;
}

/* Retro Dark Mode - Power On */
.dark {
    /* Retro Dark Mode - Background Colors */
    --surface-0: #12161F;
    --surface-1: #1A1E27;
    --surface-2: #22262F;
    --surface-3: #2A3060;
    
    /* Border Colors */
    --border-default: #2A3060;
    --border-subtle: #1A1E27;
    --border-strong: #3A4070;
    
    /* Text Colors */
    --text-primary: #D0E0FF;
    --text-secondary: #A0B0D0;
    --text-tertiary: #7080A0;
    
    /* Accent Colors - Bright Cyan */
    --accent: #00C3FF;
    --accent-muted: rgba(0, 195, 255, 0.20);
    --accent-text: #00C3FF;
    
    /* Semantic Colors - Phosphor glow */
    --color-green: #50FF50;
    --color-red: #FF4060;
    --color-yellow: #FFB020;
    --color-peach: #FF8040;
    --color-blue: #00C3FF;
    --color-mauve: #B080FF;
    --color-teal: #40E0D0;
    --color-sky: #60D0FF;
    --color-lavender: #8090FF;
    
    /* Shadows */
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.4);
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.5);
    --shadow-glow: 0 0 20px rgba(0, 195, 255, 0.20);
}

/* Diff Viewer — Blue CRT Monitor (warm indigo matching app icon) */
.diff-container {
    @apply text-sm;
    background-color: #1e1b50;
    color: #d0d0f0;
    position: relative;
}

.diff-container::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
        0deg,
        rgba(255, 255, 255, 0.02) 0px,
        transparent 1px,
        transparent 3px,
        rgba(255, 255, 255, 0.02) 4px
    );
    pointer-events: none;
    z-index: 1;
}

.diff-file {
    border-bottom: 1px solid #302d68;
}

.diff-file-header {
    @apply hidden;
}

.diff-hunk {
    border-bottom: 1px solid #302d68;
}

.diff-hunk-header {
    @apply px-4 py-2 text-xs tracking-wider flex items-center gap-3;
    background-color: #252260;
    color: #8888d0;
    font-family: var(--font-mono);
    border-top: 1px solid #302d68;
    border-bottom: 1px solid #302d68;
}

.diff-line-addition,
.diff-line-deletion,
.diff-line-context {
    @apply flex items-start leading-relaxed;
    font-family: var(--font-mono);
    font-size: 0.75rem;
    line-height: 1.625;
    border-bottom: 1px solid rgba(40, 36, 100, 0.3);
    transition: background-color var(--transition-fast);
}

.diff-line-addition {
    background-color: rgba(80, 220, 80, 0.08);
}

.diff-line-addition:hover {
    background-color: rgba(80, 220, 80, 0.14);
}

.diff-line-deletion {
    background-color: rgba(255, 80, 100, 0.08);
}

.diff-line-deletion:hover {
    background-color: rgba(255, 80, 100, 0.14);
}

.diff-line-context {
    background-color: #1e1b50;
}

.diff-line-context:hover {
    background-color: #282560;
}

.diff-line-addition .line-number {
    color: rgba(80, 220, 80, 0.5);
}

.diff-line-deletion .line-number {
    color: rgba(255, 80, 100, 0.5);
}

.diff-line-context .line-number {
    color: #5858a0;
}

.line-number {
    @apply w-12 text-right px-2 py-1 select-none shrink-0;
    font-size: 0.75rem;
    border-right: 1px solid #302d68;
}

.line-content {
    @apply flex-1 px-4 py-1 whitespace-pre-wrap break-all;
}

.diff-line-addition .line-content {
    color: #80ff80;
    text-shadow: 0 0 5px rgba(80, 255, 80, 0.3);
}

.diff-line-deletion .line-content {
    color: #ff8090;
    text-shadow: 0 0 5px rgba(255, 100, 120, 0.3);
}

.diff-line-context .line-content {
    color: #d0d0f0;
}

.line-content pre {
    @apply m-0 p-0 bg-transparent;
}

.line-content code {
    @apply bg-transparent;
    font-family: var(--font-mono);
}

/* Micro-Interactions */
@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-8px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes commitFlash {
    0% {
        box-shadow: 0 0 0 0 rgba(64, 64, 176, 0.4);
    }
    100% {
        box-shadow: 0 0 0 8px rgba(64, 64, 176, 0);
    }
}

@keyframes syncPulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.6;
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

.animate-slide-in {
    animation: slideIn 150ms ease-out;
}

.animate-commit-flash {
    animation: commitFlash 200ms ease-out;
}

.animate-sync-pulse {
    animation: syncPulse 200ms ease-in-out;
}

.animate-fade-in {
    animation: fadeIn 150ms ease-out;
}

@keyframes glowPulse {
    0%, 100% {
        box-shadow: 0 0 10px rgba(0, 195, 255, 0.3), 0 0 20px rgba(0, 195, 255, 0.15);
    }
    50% {
        box-shadow: 0 0 15px rgba(0, 195, 255, 0.5), 0 0 30px rgba(0, 195, 255, 0.25);
    }
}

@keyframes cursorBlink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}

@keyframes bootLine {
    from { opacity: 0; }
    to { opacity: 1; }
}

.animate-glow-pulse {
    animation: glowPulse 2s ease-in-out infinite;
}

.animate-cursor-blink {
    animation: cursorBlink 1s step-end infinite;
}

.animate-boot-line {
    animation: bootLine 200ms ease-out forwards;
}

@media (prefers-reduced-motion: reduce) {
    .animate-glow-pulse,
    .animate-cursor-blink,
    .animate-boot-line,
    .dark .crt-scanlines::after,
    .dark .commit-ready:not(:disabled) {
        animation: none;
        opacity: 1;
    }
}

/* CRT Effects - Retro Futurism (Enhanced Dual-Layer) */
.crt-scanlines {
    position: relative;
}

.crt-scanlines::after {
    content: '';
    position: absolute;
    inset: 0;
    background:
        repeating-linear-gradient(
            0deg,
            rgba(255, 255, 255, 0.015) 0px,
            transparent 1px,
            transparent 3px,
            rgba(255, 255, 255, 0.015) 4px
        );
    pointer-events: none;
    z-index: 98;
}

.dark .crt-scanlines::after {
    content: '';
    position: absolute;
    inset: 0;
    background:
        repeating-linear-gradient(
            0deg,
            rgba(255, 255, 255, 0.03) 0px,
            transparent 1px,
            transparent 2px,
            rgba(255, 255, 255, 0.03) 3px
        ),
        repeating-linear-gradient(
            90deg,
            rgba(255, 80, 80, 0.02) 0px,
            rgba(80, 255, 80, 0.02) 1px,
            rgba(80, 80, 255, 0.02) 2px,
            transparent 3px
        );
    pointer-events: none;
    z-index: 98;
    animation: crtFlicker 8s ease-in-out infinite;
}

@keyframes crtFlicker {
    0%, 100% { opacity: 1; }
    92% { opacity: 1; }
    93% { opacity: 0.8; }
    94% { opacity: 1; }
    96% { opacity: 0.9; }
    97% { opacity: 1; }
}

@media (prefers-reduced-motion: no-preference) {
    .phosphor-glow {
        box-shadow: 0 0 8px rgba(64, 64, 176, 0.2), 0 0 16px rgba(64, 64, 176, 0.1);
    }

    .phosphor-text-glow {
        text-shadow: 0 0 6px rgba(64, 64, 176, 0.4), 0 0 12px rgba(64, 64, 176, 0.2);
    }

    .dark .phosphor-glow {
        box-shadow: 0 0 10px rgba(0, 195, 255, 0.3), 0 0 20px rgba(0, 195, 255, 0.15);
    }

    .dark .phosphor-text-glow {
        text-shadow: 0 0 8px rgba(0, 195, 255, 0.6), 0 0 15px rgba(0, 195, 255, 0.3);
    }
}

.input-recessed {
    box-shadow: inset 2px 2px 4px rgba(0, 0, 0, 0.08), inset -1px -1px 2px rgba(255, 255, 255, 0.5);
}

.dark .input-recessed {
    box-shadow: inset 2px 2px 4px rgba(0, 0, 0, 0.3), inset -1px -1px 2px rgba(255, 255, 255, 0.05);
}

/* Win95-style Beveled Buttons */
.btn-bevel {
    border: 2px solid;
    border-color: #ffffff #808080 #808080 #ffffff;
    box-shadow: inset 1px 1px 0px #dfdfdf, inset -1px -1px 0px #404040;
    transition: all 0.1s ease;
}

.btn-bevel:active {
    border-color: #808080 #ffffff #ffffff #808080;
    box-shadow: inset 1px 1px 0px #404040, inset -1px -1px 0px #dfdfdf;
}

.dark .btn-bevel {
    border-color: #4A5080 #1A1E27 #1A1E27 #4A5080;
    box-shadow: inset 1px 1px 0px #3A4070, inset -1px -1px 0px #0A0E17;
}

.dark .btn-bevel:active {
    border-color: #1A1E27 #4A5080 #4A5080 #1A1E27;
    box-shadow: inset 1px 1px 0px #0A0E17, inset -1px -1px 0px #3A4070;
}

/* Highlight.js — Blue CRT light theme */
.hljs-keyword,
.hljs-selector-tag,
.hljs-built_in,
.hljs-name,
.hljs-tag { color: #b090ff; }

.hljs-string,
.hljs-title,
.hljs-section,
.hljs-attribute,
.hljs-literal,
.hljs-template-tag,
.hljs-template-variable,
.hljs-type { color: #60e060; }

.hljs-comment,
.hljs-quote,
.hljs-deletion { color: #4a6a90; }

.hljs-meta,
.hljs-meta .hljs-keyword { color: #ffa050; }

.hljs-number,
.hljs-symbol,
.hljs-bullet,
.hljs-link { color: #f0c050; }

.hljs-variable,
.hljs-params { color: #e0ecf8; }

.hljs-function { color: #60b8ff; }

.hljs-title.function_ { color: #60b8ff; }

.hljs-regexp { color: #50d0c0; }

.hljs-addition { color: #60e060; }

.hljs-emphasis { font-style: italic; }

.hljs-strong { font-weight: bold; }

.dark .diff-container {
    background-color: var(--surface-0);
    color: var(--text-primary);
}

.dark .diff-container::after {
    background: repeating-linear-gradient(
        0deg,
        rgba(255, 255, 255, 0.03) 0px,
        transparent 1px,
        transparent 2px,
        rgba(255, 255, 255, 0.03) 3px
    );
}

.dark .diff-file {
    border-bottom-color: var(--border-default);
}

.dark .diff-hunk {
    border-bottom-color: var(--surface-1);
}

.dark .diff-hunk-header {
    background-color: var(--surface-1);
    color: var(--text-secondary);
    border-top-color: var(--border-default);
    border-bottom-color: var(--border-default);
}

.dark .diff-line-addition,
.dark .diff-line-deletion,
.dark .diff-line-context {
    border-bottom-color: rgba(42, 48, 96, 0.3);
}

.dark .diff-line-addition .line-number {
    color: rgba(80, 255, 80, 0.4);
}

.dark .diff-line-deletion .line-number {
    color: rgba(255, 64, 96, 0.4);
}

.dark .diff-line-context .line-number {
    color: var(--text-tertiary);
}

.dark .line-number {
    border-right-color: var(--border-subtle);
}

.dark .diff-line-addition {
    background-color: rgba(80, 255, 80, 0.08);
}

.dark .diff-line-addition:hover {
    background-color: rgba(80, 255, 80, 0.12);
}

.dark .diff-line-deletion {
    background-color: rgba(255, 64, 96, 0.08);
}

.dark .diff-line-deletion:hover {
    background-color: rgba(255, 64, 96, 0.12);
}

.dark .diff-line-context {
    background-color: #12161F;
}

.dark .diff-line-context:hover {
    background-color: #2A3060;
}

.dark .diff-line-addition .line-content {
    color: #50FF50;
}

.dark .diff-line-deletion .line-content {
    color: #FF4060;
}

.dark .diff-line-context .line-content {
    color: #A0B0D0;
}

/* Diff Phosphor Text Glow (dark mode) */
.dark .diff-line-addition .line-content {
    text-shadow: 0 0 6px rgba(80, 255, 80, 0.3);
}

.dark .diff-line-deletion .line-content {
    text-shadow: 0 0 6px rgba(255, 64, 96, 0.3);
}

/* Dark Mode - Highlight.js Retro Futurism Dark */
.dark .hljs-keyword,
.dark .hljs-selector-tag,
.dark .hljs-built_in,
.dark .hljs-name,
.dark .hljs-tag { color: #B080FF; }

.dark .hljs-string,
.dark .hljs-title,
.dark .hljs-section,
.dark .hljs-attribute,
.dark .hljs-literal,
.dark .hljs-template-tag,
.dark .hljs-template-variable,
.dark .hljs-type { color: #50FF50; }

.dark .hljs-comment,
.dark .hljs-quote,
.dark .hljs-deletion { color: #7080A0; }

.dark .hljs-meta,
.dark .hljs-meta .hljs-keyword { color: #FF8040; }

.dark .hljs-number,
.dark .hljs-symbol,
.dark .hljs-bullet,
.dark .hljs-link { color: #FFB020; }

.dark .hljs-variable,
.dark .hljs-params { color: #D0E0FF; }

.dark .hljs-function { color: #00C3FF; }

.dark .hljs-title.function_ { color: #00C3FF; }

.dark .hljs-regexp { color: #40E0D0; }

.dark .hljs-addition { color: #50FF50; }

/* ================================================================
   Phase 3: Immersive CRT & Retro Effects
   ================================================================ */

/* Screen Bloom & Vignette */
.crt-screen {
    position: relative;
}

.dark .crt-screen::before {
    content: '';
    position: fixed;
    inset: 0;
    background: radial-gradient(ellipse at center, transparent 50%, rgba(0, 0, 0, 0.4) 100%);
    pointer-events: none;
    z-index: 100;
}

.dark .crt-screen::after {
    content: '';
    position: fixed;
    inset: 0;
    box-shadow: inset 0 0 80px rgba(0, 195, 255, 0.08), inset 0 0 160px rgba(0, 195, 255, 0.04);
    pointer-events: none;
    z-index: 99;
}

/* Light Mode: Retro Paper & Panel Inset */
.retro-paper {
    background-image: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 24px,
        rgba(200, 195, 184, 0.3) 24px,
        rgba(200, 195, 184, 0.3) 25px
    );
}

.dark .retro-paper {
    background-image: none;
}

.panel-inset {
    border: 2px solid;
    border-color: #C8C3B8 #ffffff #ffffff #C8C3B8;
    box-shadow: inset 1px 1px 3px rgba(0, 0, 0, 0.06);
}

.dark .panel-inset {
    border-color: #0A0E17 #2A3060 #2A3060 #0A0E17;
    box-shadow: inset 1px 1px 3px rgba(0, 0, 0, 0.3);
}

/* CRT Noise Texture */
.crt-noise {
    position: relative;
}

.dark .crt-noise::before {
    content: '';
    position: fixed;
    inset: 0;
    opacity: 0.035;
    mix-blend-mode: overlay;
    pointer-events: none;
    z-index: 97;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
}

/* Terminal Block Headers */
.terminal-header {
    position: relative;
    padding-left: 1.5rem !important;
}

.terminal-header::before {
    content: '>';
    position: absolute;
    left: 0.75rem;
    font-family: var(--font-display);
    font-weight: 400;
    color: var(--text-tertiary);
}

.terminal-header {
    background: linear-gradient(90deg, rgba(64, 64, 176, 0.06), transparent 60%);
}

.terminal-header::before {
    color: var(--accent);
    text-shadow: 0 0 4px rgba(64, 64, 176, 0.3);
}

.dark .terminal-header {
    background: linear-gradient(90deg, rgba(0, 195, 255, 0.06), transparent 60%);
}

.dark .terminal-header::before {
    color: var(--accent);
    text-shadow: 0 0 6px rgba(0, 195, 255, 0.5);
}

/* Window Chrome Header */
.window-chrome {
    position: relative;
}

.window-chrome {
    background: linear-gradient(180deg, var(--surface-2) 0%, var(--surface-1) 100%) !important;
    border-bottom: 1px solid var(--border-strong) !important;
    box-shadow: 0 1px 0 rgba(64, 64, 176, 0.08), var(--shadow-sm) !important;
}

.dark .window-chrome {
    background: linear-gradient(180deg, var(--surface-2) 0%, var(--surface-1) 100%) !important;
    border-bottom: 1px solid var(--border-strong) !important;
    box-shadow: 0 1px 0 rgba(0, 195, 255, 0.1), var(--shadow-sm) !important;
}

/* Status Dot Phosphor Glow — Light Mode (warm, saturated) */
.status-dot-modified {
    box-shadow: 0 0 3px 1px rgba(192, 136, 0, 0.4);
}

.status-dot-added {
    box-shadow: 0 0 3px 1px rgba(30, 140, 10, 0.4);
}

.status-dot-deleted {
    box-shadow: 0 0 3px 1px rgba(217, 20, 64, 0.4);
}

.status-dot-renamed {
    box-shadow: 0 0 3px 1px rgba(64, 64, 176, 0.4);
}

.status-dot-untracked {
    box-shadow: 0 0 3px 1px rgba(30, 140, 10, 0.4);
}

/* Status Dot Phosphor Glow — Dark Mode (neon) */
.dark .status-dot-modified {
    box-shadow: 0 0 4px 1px rgba(255, 176, 32, 0.5);
}

.dark .status-dot-added {
    box-shadow: 0 0 4px 1px rgba(80, 255, 80, 0.5);
}

.dark .status-dot-deleted {
    box-shadow: 0 0 4px 1px rgba(255, 64, 96, 0.5);
}

.dark .status-dot-renamed {
    box-shadow: 0 0 4px 1px rgba(0, 195, 255, 0.5);
}

.dark .status-dot-untracked {
    box-shadow: 0 0 4px 1px rgba(80, 255, 80, 0.5);
}

/* Commit Button Active Pulse */
@keyframes commitReady {
    0%, 100% { box-shadow: 0 0 0 0 rgba(64, 64, 176, 0); }
    50% { box-shadow: 0 0 12px 2px rgba(64, 64, 176, 0.3); }
}

.commit-ready:not(:disabled) {
    animation: commitReady 3s ease-in-out infinite;
}

/* Terminal Dropdown */
.terminal-dropdown {
    border-color: rgba(64, 64, 176, 0.2) !important;
    box-shadow: 0 0 10px rgba(64, 64, 176, 0.06), var(--shadow-md) !important;
    background: linear-gradient(180deg, #ffffff, var(--surface-0)) !important;
}

.dark .terminal-dropdown {
    border-color: rgba(0, 195, 255, 0.3) !important;
    box-shadow: 0 0 15px rgba(0, 195, 255, 0.1), var(--shadow-md) !important;
    background: linear-gradient(180deg, var(--surface-1), var(--surface-0)) !important;
}

/* CRT Monitor Bezel — Diff Viewer */
.crt-monitor {
    border: 3px solid;
    border-color: #5858b0 #1e1b50 #1e1b50 #5858b0;
    border-right: none;
    border-radius: var(--radius-lg) 0 0 var(--radius-lg);
    box-shadow:
        inset 0 0 40px rgba(75, 80, 176, 0.08),
        inset 0 0 80px rgba(0, 0, 0, 0.1);
    overflow: hidden;
}

.diff-header {
    background: linear-gradient(180deg, #282568, #1e1b50);
    color: #d0d0f0;
    box-shadow: 0 1px 0 rgba(75, 80, 176, 0.2);
}

.diff-header [data-flux-button] {
    color: #8888d0;
}

.diff-header [data-flux-button]:hover {
    color: #b0b0e0;
    background-color: rgba(75, 80, 176, 0.2);
}

.diff-header .text-\[var\(--color-green\)\] {
    color: #60e060 !important;
}

.diff-header .text-\[var\(--color-red\)\] {
    color: #ff6878 !important;
}

.dark .diff-header {
    background: linear-gradient(180deg, var(--surface-1), var(--surface-0));
    color: var(--text-primary);
    box-shadow: var(--shadow-sm);
}

.dark .diff-header [data-flux-button] {
    color: var(--text-tertiary);
}

.dark .diff-header [data-flux-button]:hover {
    color: var(--text-secondary);
    background-color: var(--surface-3);
}

.dark .diff-header .text-\[var\(--color-green\)\] {
    color: var(--color-green) !important;
}

.dark .diff-header .text-\[var\(--color-red\)\] {
    color: var(--color-red) !important;
}

.dark .crt-monitor {
    border-color: #2A3060 #0A0E17 #0A0E17 #2A3060;
    border-right: none;
    box-shadow:
        inset 0 0 40px rgba(0, 195, 255, 0.03),
        inset 0 0 80px rgba(0, 0, 0, 0.15);
}

/* CRT Monitor Power LED */
.crt-monitor::after {
    content: '';
    position: absolute;
    bottom: 6px;
    right: 8px;
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background: var(--color-green);
    box-shadow: 0 0 4px var(--color-green);
    z-index: 5;
    opacity: 0.7;
}

/* Custom Retro Scrollbars */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: var(--surface-1);
    border-left: 1px solid var(--border-default);
}

::-webkit-scrollbar-thumb {
    background: var(--surface-3);
    border: 2px solid;
    border-color: #ffffff #808080 #808080 #ffffff;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--border-strong);
}

.dark ::-webkit-scrollbar-track {
    background: var(--surface-0);
    border-left: 1px solid var(--border-subtle);
}

.dark ::-webkit-scrollbar-thumb {
    border-color: #3A4070 #0A0E17 #0A0E17 #3A4070;
    background: var(--surface-3);
}

::-webkit-scrollbar-corner {
    background: var(--surface-1);
}

.crt-monitor ::-webkit-scrollbar-track {
    background: #1e1b50;
    border-left: 1px solid #302d68;
}

.crt-monitor ::-webkit-scrollbar-thumb {
    background: #3a3880;
    border-color: #5050a0 #1e1b50 #1e1b50 #5050a0;
}

.crt-monitor ::-webkit-scrollbar-thumb:hover {
    background: #4a48a0;
}

.crt-monitor ::-webkit-scrollbar-corner {
    background: #1e1b50;
}

.dark .crt-monitor ::-webkit-scrollbar-track {
    background: var(--surface-0);
    border-left-color: var(--border-subtle);
}

.dark .crt-monitor ::-webkit-scrollbar-thumb {
    background: var(--surface-3);
    border-color: #3A4070 #0A0E17 #0A0E17 #3A4070;
}

.dark .crt-monitor ::-webkit-scrollbar-corner {
    background: var(--surface-0);
}

/* Text Selection — Retro Amber */
::selection {
    background: rgba(192, 136, 0, 0.3);
    color: var(--text-primary);
}

.dark ::selection {
    background: rgba(0, 195, 255, 0.25);
    color: #D0E0FF;
}

/* Retro Input Fields */
.retro-input {
    border: 2px solid;
    border-color: #808080 #ffffff #ffffff #808080;
    box-shadow: inset 2px 2px 4px rgba(0, 0, 0, 0.1);
    caret-color: var(--accent);
    background: #F8F6F2;
}

.retro-input:focus {
    border-color: #4040B0 #a0a0e0 #a0a0e0 #4040B0;
    box-shadow: inset 2px 2px 4px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(64, 64, 176, 0.2);
}

.dark .retro-input {
    border: 2px solid var(--border-default);
    box-shadow: none;
    caret-color: var(--accent);
    background: var(--surface-0);
}

.dark .retro-input:focus {
    border-color: #00C3FF;
    box-shadow: 0 0 0 1px rgba(0, 195, 255, 0.25);
}

/* Icon Phosphor Treatment */
.retro-icon {
    transition: color 0.15s ease, filter 0.15s ease;
}

.dark .retro-icon {
    filter: drop-shadow(0 0 3px rgba(0, 195, 255, 0.3));
}

/* Dark Mode — Flux Dropdown Overrides */
.dark [data-flux-menu] {
    background-color: var(--surface-1) !important;
    border-color: var(--border-default) !important;
}

.dark [data-flux-menu-item][data-active] {
    background-color: var(--surface-2) !important;
}

/* Press Start 2P — Pixel Button Font */
.btn-bevel,
[data-flux-button][data-variant="primary"],
[data-flux-button][data-variant="danger"] {
    font-family: var(--font-pixel) !important;
    font-size: 9px !important;
    letter-spacing: 0.5px;
    text-transform: uppercase;
}
