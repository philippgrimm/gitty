@import 'tailwindcss';

@variant dark (&:where(.dark, .dark *));

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
    /* Typography */
    --font-sans: 'Instrument Sans', 'Inter', system-ui, ui-sans-serif, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
    --font-mono: 'JetBrains Mono', 'SF Mono', 'Fira Code', ui-monospace, monospace;
    --font-display: 'Space Mono', 'JetBrains Mono', ui-monospace, monospace;
    
    /* Flux Accent Colors - Retro Deep Cobalt */
    --color-accent: #18206F;
    --color-accent-content: #18206F;
    --color-accent-foreground: #ffffff;
}

/* Design Tokens - CSS Custom Properties */
:root {
    /* Retro Light Mode - Background Colors */
    --surface-0: #E8E5DF;        /* Base - main background */
    --surface-1: #DED9D0;        /* Mantle - elevated panels, headers */
    --surface-2: #D4CFC6;        /* Crust - subtle elevation */
    --surface-3: #C8C3B8;        /* Highest elevation, active states */
    
    /* Retro Light Mode - Border Colors */
    --border-default: #C8C3B8;   /* Warm brown-grey */
    --border-subtle: #D8D3C8;    /* Warm brown-grey */
    --border-strong: #B8B3A8;    /* Warm brown-grey */
    
    /* Retro Light Mode - Text Colors */
    --text-primary: #2C3040;     /* Dark grey-blue */
    --text-secondary: #4A4E5E;   /* Secondary */
    --text-tertiary: #686C7C;    /* Tertiary, placeholders */
    
    /* Accent Colors - Deep Cobalt */
    --accent: #18206F;           /* Deep cobalt */
    --accent-muted: rgba(24, 32, 111, 0.15);
    --accent-text: #18206F;
    
    /* Retro Semantic Colors */
    --color-green: #267018;
    --color-red: #C41030;
    --color-yellow: #8A6410;
    --color-peach: #B04800;
    --color-blue: #18206F;
    --color-mauve: #6B4BA0;
    --color-teal: #1A7A7A;
    --color-sky: #2080B0;
    --color-lavender: #5060C0;
    
    /* Shadows - warm tones */
    --shadow-sm: 0 1px 2px rgba(44, 48, 64, 0.08);
    --shadow-md: 0 4px 12px rgba(44, 48, 64, 0.10);
    --shadow-glow: none;
    
    /* Transitions */
    --transition-fast: 100ms ease;
    --transition-normal: 150ms ease;
    --transition-slow: 250ms ease;
    
    /* Border Radius - bezel-style */
    --radius-sm: 6px;
    --radius-md: 12px;
    --radius-lg: 24px;
}

/* Retro Dark Mode - Power On */
.dark {
    /* Retro Dark Mode - Background Colors */
    --surface-0: #12161F;
    --surface-1: #1A1E27;
    --surface-2: #22262F;
    --surface-3: #2A3060;
    
    /* Border Colors */
    --border-default: #2A3060;
    --border-subtle: #1A1E27;
    --border-strong: #3A4070;
    
    /* Text Colors */
    --text-primary: #D0E0FF;
    --text-secondary: #A0B0D0;
    --text-tertiary: #7080A0;
    
    /* Accent Colors - Bright Cyan */
    --accent: #00C3FF;
    --accent-muted: rgba(0, 195, 255, 0.20);
    --accent-text: #00C3FF;
    
    /* Semantic Colors - Phosphor glow */
    --color-green: #50FF50;
    --color-red: #FF4060;
    --color-yellow: #FFB020;
    --color-peach: #FF8040;
    --color-blue: #00C3FF;
    --color-mauve: #B080FF;
    --color-teal: #40E0D0;
    --color-sky: #60D0FF;
    --color-lavender: #8090FF;
    
    /* Shadows */
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.4);
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.5);
    --shadow-glow: 0 0 20px rgba(0, 195, 255, 0.20);
}

/* Diff Viewer Styles - Refactored with Design Tokens */
.diff-container {
    @apply text-sm;
    background-color: var(--surface-0);
    color: var(--text-primary);
}

.diff-file {
    border-bottom: 1px solid var(--border-default);
}

.diff-file-header {
    @apply hidden;
}

.diff-hunk {
    border-bottom: 1px solid var(--surface-1);
}

.diff-hunk-header {
    @apply px-4 py-2 text-xs tracking-wider flex items-center gap-3;
    background-color: var(--surface-1);
    color: var(--text-secondary);
    font-family: var(--font-mono);
    border-top: 1px solid var(--border-default);
    border-bottom: 1px solid var(--border-default);
}

.diff-line-addition,
.diff-line-deletion,
.diff-line-context {
    @apply flex items-start leading-relaxed;
    font-family: var(--font-mono);
    font-size: 0.75rem;
    line-height: 1.625;
    border-bottom: 1px solid rgba(200, 195, 184, 0.5);
    transition: background-color var(--transition-fast);
}

.diff-line-addition {
    background-color: rgba(38, 112, 24, 0.1);
}

.diff-line-addition:hover {
    background-color: rgba(38, 112, 24, 0.15);
}

.diff-line-deletion {
    background-color: rgba(196, 16, 48, 0.1);
}

.diff-line-deletion:hover {
    background-color: rgba(196, 16, 48, 0.15);
}

.diff-line-context {
    background-color: #F2EFE9;
}

.diff-line-context:hover {
    background-color: #E8E5DF;
}

.diff-line-addition .line-number {
    color: rgba(38, 112, 24, 0.6);
}

.diff-line-deletion .line-number {
    color: rgba(196, 16, 48, 0.6);
}

.diff-line-context .line-number {
    color: var(--text-tertiary);
}

.line-number {
    @apply w-12 text-right px-2 py-1 select-none shrink-0;
    font-size: 0.75rem;
    border-right: 1px solid var(--border-subtle);
}

.line-content {
    @apply flex-1 px-4 py-1 whitespace-pre-wrap break-all;
}

.diff-line-addition .line-content {
    color: #267018;
}

.diff-line-deletion .line-content {
    color: #C41030;
}

.diff-line-context .line-content {
    color: #4A4E5E;
}

.line-content pre {
    @apply m-0 p-0 bg-transparent;
}

.line-content code {
    @apply bg-transparent;
    font-family: var(--font-mono);
}

/* Micro-Interactions */
@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-8px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes commitFlash {
    0% {
        box-shadow: 0 0 0 0 rgba(24, 32, 111, 0.4);
    }
    100% {
        box-shadow: 0 0 0 8px rgba(24, 32, 111, 0);
    }
}

@keyframes syncPulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.6;
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

.animate-slide-in {
    animation: slideIn 150ms ease-out;
}

.animate-commit-flash {
    animation: commitFlash 200ms ease-out;
}

.animate-sync-pulse {
    animation: syncPulse 200ms ease-in-out;
}

.animate-fade-in {
    animation: fadeIn 150ms ease-out;
}

@keyframes glowPulse {
    0%, 100% {
        box-shadow: 0 0 10px rgba(0, 195, 255, 0.3), 0 0 20px rgba(0, 195, 255, 0.15);
    }
    50% {
        box-shadow: 0 0 15px rgba(0, 195, 255, 0.5), 0 0 30px rgba(0, 195, 255, 0.25);
    }
}

@keyframes cursorBlink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}

@keyframes bootLine {
    from { opacity: 0; }
    to { opacity: 1; }
}

.animate-glow-pulse {
    animation: glowPulse 2s ease-in-out infinite;
}

.animate-cursor-blink {
    animation: cursorBlink 1s step-end infinite;
}

.animate-boot-line {
    animation: bootLine 200ms ease-out forwards;
}

@media (prefers-reduced-motion: reduce) {
    .animate-glow-pulse,
    .animate-cursor-blink,
    .animate-boot-line {
        animation: none;
        opacity: 1;
    }
}

/* CRT Effects - Retro Futurism */
.crt-scanlines {
    position: relative;
}

.dark .crt-scanlines::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
        0deg,
        rgba(255, 255, 255, 0.03) 0px,
        transparent 1px,
        transparent 2px,
        rgba(255, 255, 255, 0.03) 3px
    );
    pointer-events: none;
    z-index: 1;
}

@media (prefers-reduced-motion: no-preference) {
    .dark .phosphor-glow {
        box-shadow: 0 0 10px rgba(0, 195, 255, 0.3), 0 0 20px rgba(0, 195, 255, 0.15);
    }

    .dark .phosphor-text-glow {
        text-shadow: 0 0 8px rgba(0, 195, 255, 0.6), 0 0 15px rgba(0, 195, 255, 0.3);
    }
}

.input-recessed {
    box-shadow: inset 2px 2px 4px rgba(0, 0, 0, 0.08), inset -1px -1px 2px rgba(255, 255, 255, 0.5);
}

.dark .input-recessed {
    box-shadow: inset 2px 2px 4px rgba(0, 0, 0, 0.3), inset -1px -1px 2px rgba(255, 255, 255, 0.05);
}

/* Neumorphic Styling - Retro Futurism */
.neu-container {
    border-radius: 24px;
    box-shadow: 6px 6px 12px rgba(180, 170, 155, 0.4), -6px -6px 12px rgba(255, 255, 255, 0.7);
}

.dark .neu-container {
    box-shadow: 6px 6px 12px rgba(0, 0, 0, 0.5), -6px -6px 12px rgba(30, 40, 80, 0.3);
}

.btn-neu {
    border-radius: 999px;
    box-shadow: 4px 4px 8px rgba(180, 170, 155, 0.4), -4px -4px 8px rgba(255, 255, 255, 0.6);
    transition: all 0.15s ease;
}

.btn-neu:active {
    box-shadow: inset 3px 3px 6px rgba(180, 170, 155, 0.4), inset -3px -3px 6px rgba(255, 255, 255, 0.5);
    transform: scale(0.98);
}

.dark .btn-neu {
    box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.5), -4px -4px 8px rgba(30, 40, 80, 0.3);
}

.dark .btn-neu:active {
    box-shadow: inset 3px 3px 6px rgba(0, 0, 0, 0.5), inset -3px -3px 6px rgba(30, 40, 80, 0.2);
    transform: scale(0.98);
}

@media (prefers-reduced-motion: reduce) {
    .btn-neu:active {
        transform: none;
    }
}

/* Highlight.js â€” Retro Futurism Light theme for diff viewer */
.hljs-keyword,
.hljs-selector-tag,
.hljs-built_in,
.hljs-name,
.hljs-tag { color: #6B4BA0; }

.hljs-string,
.hljs-title,
.hljs-section,
.hljs-attribute,
.hljs-literal,
.hljs-template-tag,
.hljs-template-variable,
.hljs-type { color: #267018; }

.hljs-comment,
.hljs-quote,
.hljs-deletion { color: #686C7C; }

.hljs-meta,
.hljs-meta .hljs-keyword { color: #B04800; }

.hljs-number,
.hljs-symbol,
.hljs-bullet,
.hljs-link { color: #8A6410; }

.hljs-variable,
.hljs-params { color: #2C3040; }

.hljs-function { color: #18206F; }

.hljs-title.function_ { color: #18206F; }

.hljs-regexp { color: #1A7A7A; }

.hljs-addition { color: #267018; }

.hljs-emphasis { font-style: italic; }

.hljs-strong { font-weight: bold; }

/* Dark Mode - Diff Viewer Styles */
.dark .diff-line-addition {
    background-color: rgba(80, 255, 80, 0.08);
}

.dark .diff-line-addition:hover {
    background-color: rgba(80, 255, 80, 0.12);
}

.dark .diff-line-deletion {
    background-color: rgba(255, 64, 96, 0.08);
}

.dark .diff-line-deletion:hover {
    background-color: rgba(255, 64, 96, 0.12);
}

.dark .diff-line-context {
    background-color: #12161F;
}

.dark .diff-line-context:hover {
    background-color: #2A3060;
}

.dark .diff-line-addition .line-content {
    color: #50FF50;
}

.dark .diff-line-deletion .line-content {
    color: #FF4060;
}

.dark .diff-line-context .line-content {
    color: #A0B0D0;
}

/* Dark Mode - Highlight.js Retro Futurism Dark */
.dark .hljs-keyword,
.dark .hljs-selector-tag,
.dark .hljs-built_in,
.dark .hljs-name,
.dark .hljs-tag { color: #B080FF; }

.dark .hljs-string,
.dark .hljs-title,
.dark .hljs-section,
.dark .hljs-attribute,
.dark .hljs-literal,
.dark .hljs-template-tag,
.dark .hljs-template-variable,
.dark .hljs-type { color: #50FF50; }

.dark .hljs-comment,
.dark .hljs-quote,
.dark .hljs-deletion { color: #7080A0; }

.dark .hljs-meta,
.dark .hljs-meta .hljs-keyword { color: #FF8040; }

.dark .hljs-number,
.dark .hljs-symbol,
.dark .hljs-bullet,
.dark .hljs-link { color: #FFB020; }

.dark .hljs-variable,
.dark .hljs-params { color: #D0E0FF; }

.dark .hljs-function { color: #00C3FF; }

.dark .hljs-title.function_ { color: #00C3FF; }

.dark .hljs-regexp { color: #40E0D0; }

.dark .hljs-addition { color: #50FF50; }
