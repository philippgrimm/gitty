@import 'tailwindcss';

@variant dark (&:where(.dark, .dark *));

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
    /* Typography */
    --font-sans: 'Instrument Sans', 'Inter', system-ui, ui-sans-serif, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
    --font-mono: 'JetBrains Mono', 'SF Mono', 'Fira Code', ui-monospace, monospace;
    
    /* Flux Accent Colors - Zed Blue */
    --color-accent: #084CCF;
    --color-accent-content: #084CCF;
    --color-accent-foreground: #ffffff;
}

/* Design Tokens - CSS Custom Properties */
:root {
    /* Catppuccin Latte - Background Colors */
    --surface-0: #eff1f5;        /* Base - main background */
    --surface-1: #e6e9ef;        /* Mantle - elevated panels, headers */
    --surface-2: #dce0e8;        /* Crust - hover states, subtle elevation */
    --surface-3: #ccd0da;        /* Surface 0 - highest elevation, active states */
    
    /* Catppuccin Latte - Border Colors */
    --border-default: #ccd0da;   /* Surface 0 */
    --border-subtle: #dce0e8;    /* Crust */
    --border-strong: #bcc0cc;    /* Surface 1 */
    
    /* Catppuccin Latte - Text Colors */
    --text-primary: #4c4f69;     /* Text */
    --text-secondary: #6c6f85;   /* Subtext 0 */
    --text-tertiary: #8c8fa1;    /* Overlay 1 */
    
    /* Accent Colors - Zed's Brand Blue */
    --accent: #084CCF;           /* Zed blue - primary accent */
    --accent-muted: rgba(8, 76, 207, 0.15);  /* Zed blue/15 */
    --accent-text: #084CCF;      /* Zed blue */
    
    /* Catppuccin Latte - Semantic Colors */
    --color-green: #40a02b;      /* Green - added/staged */
    --color-red: #d20f39;        /* Red - deleted/errors */
    --color-yellow: #df8e1d;     /* Yellow - modified/warnings */
    --color-peach: #fe640b;      /* Peach - untracked */
    --color-blue: #084CCF;       /* Zed blue - primary */
    --color-mauve: #8839ef;      /* Mauve - special */
    --color-teal: #179299;       /* Teal */
    --color-sky: #04a5e5;        /* Sky */
    --color-lavender: #7287fd;   /* Lavender */
    
    /* Shadows - softer for light theme */
    --shadow-sm: 0 1px 2px rgba(76, 79, 105, 0.06);
    --shadow-md: 0 4px 12px rgba(76, 79, 105, 0.08);
    --shadow-glow: none;
    
    /* Transitions */
    --transition-fast: 100ms ease;
    --transition-normal: 150ms ease;
    --transition-slow: 250ms ease;
    
    /* Border Radius */
    --radius-sm: 4px;
    --radius-md: 6px;
    --radius-lg: 8px;
}

/* Diff Viewer Styles - Refactored with Design Tokens */
.diff-container {
    @apply text-sm;
    background-color: var(--surface-0);
    color: var(--text-primary);
}

.diff-file {
    border-bottom: 1px solid var(--border-default);
}

.diff-file-header {
    @apply hidden;
}

.diff-hunk {
    border-bottom: 1px solid var(--surface-1);
}

.diff-hunk-header {
    @apply px-4 py-2 text-xs tracking-wider flex items-center gap-3;
    background-color: var(--surface-1);
    color: var(--text-secondary);
    font-family: var(--font-mono);
    border-top: 1px solid var(--border-default);
    border-bottom: 1px solid var(--border-default);
}

.diff-line-addition,
.diff-line-deletion,
.diff-line-context {
    @apply flex items-start leading-relaxed;
    font-family: var(--font-mono);
    font-size: 0.75rem;
    line-height: 1.625;
    border-bottom: 1px solid rgba(228, 228, 231, 0.5);
    transition: background-color var(--transition-fast);
}

.diff-line-addition {
    background-color: rgba(64, 160, 43, 0.1);
}

.diff-line-addition:hover {
    background-color: rgba(64, 160, 43, 0.15);
}

.diff-line-deletion {
    background-color: rgba(210, 15, 57, 0.1);
}

.diff-line-deletion:hover {
    background-color: rgba(210, 15, 57, 0.15);
}

.diff-line-context {
    background-color: #ffffff;
}

.diff-line-context:hover {
    background-color: #f5f5f5;
}

.diff-line-addition .line-number {
    color: rgba(64, 160, 43, 0.6);
}

.diff-line-deletion .line-number {
    color: rgba(210, 15, 57, 0.6);
}

.diff-line-context .line-number {
    color: var(--text-tertiary);
}

.line-number {
    @apply w-12 text-right px-2 py-1 select-none shrink-0;
    font-size: 0.75rem;
    border-right: 1px solid var(--border-subtle);
}

.line-content {
    @apply flex-1 px-4 py-1 whitespace-pre-wrap break-all;
}

.diff-line-addition .line-content {
    color: #40a02b;
}

.diff-line-deletion .line-content {
    color: #d20f39;
}

.diff-line-context .line-content {
    color: #5c5f77;
}

.line-content pre {
    @apply m-0 p-0 bg-transparent;
}

.line-content code {
    @apply bg-transparent;
    font-family: var(--font-mono);
}

/* Micro-Interactions */
@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-8px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes commitFlash {
    0% {
        box-shadow: 0 0 0 0 rgba(8, 76, 207, 0.4);
    }
    100% {
        box-shadow: 0 0 0 8px rgba(8, 76, 207, 0);
    }
}

@keyframes syncPulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.6;
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

.animate-slide-in {
    animation: slideIn 150ms ease-out;
}

.animate-commit-flash {
    animation: commitFlash 200ms ease-out;
}

.animate-sync-pulse {
    animation: syncPulse 200ms ease-in-out;
}

.animate-fade-in {
    animation: fadeIn 150ms ease-out;
}
